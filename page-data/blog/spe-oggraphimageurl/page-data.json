{"componentChunkName":"component---src-templates-post-jsx","path":"/blog/spe-oggraphimageurl","result":{"data":{"prismic":{"allPosts":{"edges":[{"node":{"post_body":[{"type":"paragraph","text":"This script will start at the $rootItem and for each child matching the $sourceTemplate will attempt to extract the Image field (if it exists) and copy this to the OpenGraphImageUrl field.","spans":[]},{"type":"image","url":"https://images.prismic.io/missingwires/ee0dc11f-7679-4334-b4b1-5d10cc157077_Sphere.png?auto=compress,format","alt":null,"copyright":null,"dimensions":{"width":599,"height":600}},{"type":"preformatted","text":"$rootItem = Get-Item \"{GUID-HERE}\"\r\n$sourceTemplate = Get-Item \"{GUID-HERE}\";\r\n\r\nNew-UsingBlock (New-Object Sitecore.Data.BulkUpdateContext)\r\n{\r\n    Get-ChildItem $rootItem.FullPath -Recurse | Where-Object { $_.TemplateName -eq $sourceTemplate.Name } | ForEach-Object \r\n    {\r\n        if(![string]::IsNullOrEmpty($_.Image))\r\n        {\r\n            if ($_.Image -like '*></image>*') {\r\n                $ogImage = $_.Image -replace \"></image>\", \"height=`\"675`\" width=`\"1200`\" />\"\r\n                Write-Host \"$($_.Image) -> $ogImage\"\r\n            }\r\n            elseif ($_.Image -like '*/>*') {\r\n                $ogImage = $_.Image -replace \"/>\", \"height=`\"675`\" width=`\"1200`\" />\"    \r\n                Write-Host \"$($_.Image) -> $ogImage\"            \r\n            }\r\n            $_.OpenGraphImageUrl = $_.Image\r\n            Publish-Item -Item $_\r\n        }\r\n    }\r\n}","spans":[]},{"type":"paragraph","text":"","spans":[]}],"title":"SPE SXA Updating OgGraphImageUrl","category":"Sitecore","date":"2020-01-08","excerpt":"This script will start at the $rootItem and for each child matching the $sourceTemplate will attempt to extract the Image field (if it exists) and copy this to the OpenGraphImageUrl field.","tags":[{"tag":{"_linkType":"Link.document","name":"SXA"}},{"tag":{"_linkType":"Link.document","name":"SPE"}},{"tag":{"_linkType":"Link.document","name":"Sitecore"}}],"image":{"dimensions":{"width":640,"height":314},"alt":null,"copyright":null,"url":"https://images.prismic.io/missingwires/78673fea-f531-4ba1-9f74-d24de66dce7b_Wave.png?auto=compress,format"}}}]}}},"pageContext":{"rootQuery":"\nquery BlogPostQuery($uid: String) {\n  prismic {\n    allPosts(uid: $uid) {\n      edges {\n        node {\n          post_body\n          title\n          category\n          date\n          excerpt\n          tags {\n            tag {\n              _linkType\n              ... on PRISMIC_Tag {\n                name\n                _linkType\n              }\n            }\n          }\n          image\n        }\n      }\n    }\n  }\n}\n","id":"XhutWRUAACQAKBcm","lang":"en-au","uid":"spe-oggraphimageurl","type":"post","alternateLanguages":[],"cursor":"YXJyYXljb25uZWN0aW9uOjA=","paginationPreviousMeta":null,"paginationPreviousUid":"","paginationPreviousLang":"","paginationNextMeta":{"id":"XhuthhUAACQAKBfW","lang":"en-au","uid":"spe-create-item-for-media-item","type":"post","alternateLanguages":[]},"paginationNextUid":"spe-create-item-for-media-item","paginationNextLang":"en-au","lastQueryChunkEndCursor":""}}}